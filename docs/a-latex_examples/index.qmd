---
format: pdf
---

```{python}
#| label: setup
#| include: false

import polars as pl
from great_tables import GT
from great_tables.data import gtcars, islands, airquality
```

```{python}
# | output: asis
# | echo: false

gtcars_pl = (
    pl.from_pandas(gtcars)
    .select(["mfr", "model", "hp", "trq", "mpg_c", "msrp"])
    .with_columns(trq=pl.col("trq") * -1)
)

print(
    (
        GT(
            gtcars_pl.head(8),
            # rowname_col="model",
            # groupname_col="mfr",
        )
        .tab_header(title="The title", subtitle="The subtitle")
        .tab_spanner(
            label="Make and Model",
            columns=["mfr", "model"]
        )
        .tab_spanner(
            label="Performance Characteristics",
            columns=["hp", "trq"]
        )
        .tab_source_note(source_note="A table note.")
        .tab_source_note(source_note="A second table note.")
        .fmt_scientific(columns="trq", decimals=3)
        .fmt_integer(columns="mpg_c")
        .fmt_currency(columns="msrp")
        .fmt_percent(columns="hp", decimals=2, scale_values=False)
        .tab_options(table_width="500pt", latex_use_longtable=False, table_font_size="12px")
    ).as_latex()
)
```


```{python}
# | output: asis
# | echo: false

islands_mini = islands.head(10)

print(
    (
    GT(islands_mini)
    .tab_header(
        title="Large Landmasses of the World",
        subtitle="The top ten largest are presented"
    )
    .tab_source_note(
        source_note="Source: The World Almanac and Book of Facts, 1975, page 406."
    )
    .tab_source_note(
        source_note="Reference: McNeil, D. R. (1977) *Interactive Data Analysis*. Wiley."
    )
    #.tab_stubhead(label="landmass")
    ).as_latex()
)
```


```{python}
# | output: asis
# | echo: false

airquality_mini = airquality.head(10).assign(Year = 1973)

print(
    (
    GT(airquality_mini)
    .tab_header(
        title="New York Air Quality Measurements",
        subtitle="Daily measurements in New York City (May 1-10, 1973)"
    )
    ).as_latex()
)
```
